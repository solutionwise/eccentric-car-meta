import{p as c,j as r}from"./CXJKphkF.js";const f=()=>{const i=c().public.apiBase;return{apiCall:async(a,e={})=>{let n=null;try{const{$auth:t}=r();t&&typeof t.getToken=="function"&&(n=t.getToken())}catch(t){console.warn("Auth plugin not available for API call:",t)}const o={...e.headers};e.body instanceof FormData||(o["Content-Type"]="application/json"),n&&(o.Authorization=`Bearer ${n}`);const s=a.startsWith("http")?a:`${i}${a}`;return await $fetch(s,{...e,headers:o})}}};export{f as u};
